{"version":3,"file":"VDatePickerYears.mjs","names":["VBtn","useDate","computed","onMounted","ref","convertToUnit","createRange","genericComponent","propsFactory","useRender","makeVDatePickerYearsProps","color","String","height","Number","displayDate","min","Date","max","VDatePickerYears","name","props","emits","date","click:mode","setup","_ref","emit","adapter","displayYear","getYear","years","getFullYear","value","yearRef","$el","scrollIntoView","block","_createVNode","map","year","onClick","setYear","undefined"],"sources":["../../../src/labs/VDatePicker/VDatePickerYears.tsx"],"sourcesContent":["// Styles\nimport './VDatePickerYears.sass'\n\n// Components\nimport { VBtn } from '@/components/VBtn'\n\n// Composables\nimport { useDate } from '@/labs/date'\n\n// Utilities\nimport { computed, onMounted, ref } from "/js/vue.js"\nimport { convertToUnit, createRange, genericComponent, propsFactory, useRender } from '@/util'\n\nexport const makeVDatePickerYearsProps = propsFactory({\n  color: String,\n  height: [String, Number],\n  displayDate: null,\n  min: [Number, String, Date],\n  max: [Number, String, Date],\n}, 'VDatePickerYears')\n\nexport const VDatePickerYears = genericComponent()({\n  name: 'VDatePickerYears',\n\n  props: makeVDatePickerYearsProps(),\n\n  emits: {\n    'update:displayDate': (date: any) => true,\n    'click:mode': () => true,\n  },\n\n  setup (props, { emit }) {\n    const adapter = useDate()\n    const displayYear = computed(() => adapter.getYear(props.displayDate ?? new Date()))\n    const years = computed(() => {\n      const min = props.min ? adapter.date(props.min).getFullYear() : displayYear.value - 100\n      const max = props.max ? adapter.date(props.max).getFullYear() : displayYear.value + 50\n\n      return createRange(max - min + 1, min)\n    })\n\n    const yearRef = ref<VBtn>()\n    onMounted(() => {\n      yearRef.value?.$el.scrollIntoView({ block: 'center' })\n    })\n\n    useRender(() => (\n      <div\n        class=\"v-date-picker-years\"\n        style={{\n          height: convertToUnit(props.height),\n        }}\n      >\n        <div class=\"v-date-picker-years__content\">\n          { years.value.map(year => {\n            function onClick () {\n              emit('update:displayDate', adapter.setYear(props.displayDate, year))\n              emit('click:mode')\n            }\n\n            return (\n              <VBtn\n                ref={ year === displayYear.value ? yearRef : undefined }\n                active={ year === displayYear.value }\n                color={ year === displayYear.value ? props.color : undefined }\n                rounded=\"xl\"\n                text={ String(year) }\n                variant={ year === displayYear.value ? 'flat' : 'text' }\n                onClick={ onClick }\n              />\n            )\n          })}\n        </div>\n      </div>\n    ))\n\n    return {}\n  },\n})\n\nexport type VDatePickerYears = InstanceType<typeof VDatePickerYears>\n"],"mappings":"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"}